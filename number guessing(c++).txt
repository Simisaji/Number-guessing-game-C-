#include <iostream>
#include <cstdlib>
#include <ctime>
#include <string>
#include <cctype> // for tolower

using namespace std;

int main() {
    srand(time(0));      // âœ… Seed random only once at the start
    string playAgain;

    do {
        int numberToGuess = rand() % 100 + 1;
        int guess;
        int attempts = 3;

        cout << "\nðŸŽ¯ Welcome to the number guessing game!\n";
        cout << "Pick a number between 1 and 100. You have 3 attempts.\n";

        while (attempts > 0) {
            cout << "Enter your guess: ";
            cin >> guess;

            if (guess > numberToGuess) {
                cout << "ðŸ˜… Oops, too high! â¬†ï¸ Try again ðŸ”„.\n";
            } else if (guess < numberToGuess) {
                cout << "ðŸ˜… Oops, too low! â¬‡ï¸ Try again ðŸ”„.\n";
            } else {
                cout << "ðŸ¥³ Well done! You guessed the number!\n";
                break;
            }

            attempts--;
        }

        if (attempts == 0 && guess != numberToGuess) {
            cout << "ðŸ˜¢ Sorry, you're out of attempts. The number was " << numberToGuess << ".\n";
        }

        // Ask to play again with Yes/No
        cout << "\nðŸ” Do you want to play again? (Yes/No): ";
        cin >> playAgain;

        // Convert input to lowercase for case-insensitive comparison
        for (auto &c : playAgain) {
            c = tolower(c);
        }

    } while (playAgain == "yes");

    // Final message
    cout << "\nðŸŽ® Thanks for playing!\n";
    cout << "ðŸ‘‹ Thank you for playing with me.\n Come back againâ˜ºï¸\n";

    return 0;
}
